2021-07-25 19:26:39,468 [INFO] root consoleworker.py:434	Log file created
2021-07-25 19:26:39,469 [INFO] root consoleworker.py:438	Logging handler <logging.FileHandler object at 0x7f2c6dbc0c10> added
2021-07-25 19:26:39,469 [INFO] root consoleworker.py:438	Logging handler <logging.StreamHandler object at 0x7f2c6dc08850> added
2021-07-25 19:26:39,469 [INFO] root consoleworker.py:438	Logging handler <logging.StreamHandler object at 0x7f2c6dbaca50> added
2021-07-25 19:26:39,470 [INFO] root consoleworker.py:373	Created a folder for the test. /var/loadtest/logs/2021-07-25_19-26-39.382097
2021-07-25 19:26:39,470 [INFO] yandextank.core.tankcore tankcore.py:237	Configuring plugins...
2021-07-25 19:26:39,470 [INFO] yandextank.core.tankcore tankcore.py:190	Loading plugins...
2021-07-25 19:26:39,471 [DEBUG] yandextank.core.tankcore tankcore.py:192	Loading plugin phantom from yandextank.plugins.Phantom
2021-07-25 19:26:39,471 [DEBUG] yandextank.core.tankcore tankcore.py:192	Loading plugin rcheck from yandextank.plugins.ResourceCheck
2021-07-25 19:26:39,471 [DEBUG] yandextank.core.tankcore tankcore.py:192	Loading plugin json_report from yandextank.plugins.JsonReport
2021-07-25 19:26:39,475 [DEBUG] yandextank.core.tankcore tankcore.py:192	Loading plugin overload from yandextank.plugins.DataUploader
2021-07-25 19:26:39,475 [DEBUG] yandextank.core.tankcore tankcore.py:192	Loading plugin rcassert from yandextank.plugins.RCAssert
2021-07-25 19:26:39,475 [DEBUG] yandextank.core.tankcore tankcore.py:192	Loading plugin console from yandextank.plugins.Console
2021-07-25 19:26:39,475 [DEBUG] yandextank.core.tankcore tankcore.py:192	Loading plugin shellexec from yandextank.plugins.ShellExec
2021-07-25 19:26:39,476 [DEBUG] yandextank.core.tankcore tankcore.py:192	Loading plugin autostop from yandextank.plugins.Autostop
2021-07-25 19:26:39,476 [DEBUG] yandextank.core.tankcore tankcore.py:212	Plugin instances: {'plugin_phantom': <yandextank.plugins.Phantom.plugin.Plugin object at 0x7f2c6d903290>, 'plugin_autostop': <yandextank.plugins.Autostop.plugin.Plugin object at 0x7f2c6d879650>, 'plugin_shellexec': <yandextank.plugins.ShellExec.plugin.Plugin object at 0x7f2c6d879150>, 'plugin_console': <yandextank.plugins.Console.plugin.Plugin object at 0x7f2c6d879710>, 'plugin_rcassert': <yandextank.plugins.RCAssert.plugin.Plugin object at 0x7f2c6d879790>, 'plugin_rcheck': <yandextank.plugins.ResourceCheck.plugin.Plugin object at 0x7f2c6d903110>, 'plugin_overload': <yandextank.plugins.DataUploader.plugin.Plugin object at 0x7f2c6d903bd0>, 'plugin_json_report': <yandextank.plugins.JsonReport.plugin.Plugin object at 0x7f2c6dc28a10>}
2021-07-25 19:26:39,476 [DEBUG] yandextank.core.tankcore tankcore.py:244	Configuring <yandextank.plugins.Phantom.plugin.Plugin object at 0x7f2c6d903290>
2021-07-25 19:26:39,477 [DEBUG] yandextank.core.tankcore tankcore.py:391	Searching for plugin: <class 'yandextank.plugins.Autostop.plugin.Plugin'>
2021-07-25 19:26:39,481 [DEBUG] yandextank.core.tankcore tankcore.py:446	Adding artifact file to collect (keep=False): /var/loadtest/logs/2021-07-25_19-26-39.382097/answ_V0wWAG.log
2021-07-25 19:26:39,483 [DEBUG] yandextank.core.tankcore tankcore.py:446	Adding artifact file to collect (keep=False): /var/loadtest/logs/2021-07-25_19-26-39.382097/phout_fKaTuO.log
2021-07-25 19:26:39,484 [DEBUG] yandextank.core.tankcore tankcore.py:446	Adding artifact file to collect (keep=False): /var/loadtest/logs/2021-07-25_19-26-39.382097/phantom_stat_cg1hAl.log
2021-07-25 19:26:39,486 [DEBUG] yandextank.core.tankcore tankcore.py:446	Adding artifact file to collect (keep=False): /var/loadtest/logs/2021-07-25_19-26-39.382097/phantom_T1_tQg.log
2021-07-25 19:26:39,486 [DEBUG] yandextank.common.util util.py:479	Trying to resolve address string: host.docker.internal:8185
2021-07-25 19:26:39,487 [DEBUG] yandextank.common.util util.py:516	Parsing port
2021-07-25 19:26:39,489 [DEBUG] yandextank.common.util util.py:527	Lookup result: [(2, 1, 6, '', ('192.168.65.2', 8185)), (2, 2, 17, '', ('192.168.65.2', 8185)), (2, 3, 0, '', ('192.168.65.2', 8185))]
2021-07-25 19:26:39,490 [INFO] yandextank.common.util util.py:546	Testing connection to resolved address 192.168.65.2 and port 8185
2021-07-25 19:26:39,491 [INFO] yandextank.plugins.Phantom.utils utils.py:278	Resolved host.docker.internal into 192.168.65.2:8185
2021-07-25 19:26:39,491 [INFO] yandextank.stepper.main main.py:161	Configuring StepperWrapper...
2021-07-25 19:26:39,492 [DEBUG] yandextank.stepper.main main.py:140	Option ammofile = /var/loadtest/ammo.txt
2021-07-25 19:26:39,492 [DEBUG] yandextank.stepper.main main.py:140	Option ammo_type = phantom
2021-07-25 19:26:39,492 [DEBUG] yandextank.stepper.main main.py:140	Option loop = -1
2021-07-25 19:26:39,493 [DEBUG] yandextank.stepper.main main.py:140	Option ammo_limit = -1
2021-07-25 19:26:39,493 [DEBUG] yandextank.stepper.main main.py:140	Option load_profile = {'load_type': 'rps', 'schedule': 'line(1, 10, 1m)'}
2021-07-25 19:26:39,493 [DEBUG] yandextank.stepper.main main.py:140	Option instances = 1000
2021-07-25 19:26:39,494 [DEBUG] yandextank.stepper.main main.py:140	Option uris = []
2021-07-25 19:26:39,494 [DEBUG] yandextank.stepper.main main.py:140	Option headers = []
2021-07-25 19:26:39,494 [DEBUG] yandextank.stepper.main main.py:140	Option header_http = 1.0
2021-07-25 19:26:39,494 [DEBUG] yandextank.stepper.main main.py:140	Option autocases = 0
2021-07-25 19:26:39,495 [DEBUG] yandextank.stepper.main main.py:140	Option enum_ammo = False
2021-07-25 19:26:39,495 [DEBUG] yandextank.stepper.main main.py:140	Option use_caching = True
2021-07-25 19:26:39,495 [DEBUG] yandextank.stepper.main main.py:140	Option file_cache = 8192
2021-07-25 19:26:39,495 [DEBUG] yandextank.stepper.main main.py:140	Option cache_dir = None
2021-07-25 19:26:39,496 [DEBUG] yandextank.stepper.main main.py:140	Option force_stepping = 0
2021-07-25 19:26:39,496 [DEBUG] yandextank.stepper.main main.py:140	Option load_profile = {'load_type': 'rps', 'schedule': 'line(1, 10, 1m)'}
2021-07-25 19:26:39,496 [DEBUG] yandextank.stepper.main main.py:140	Option chosen_cases = 
2021-07-25 19:26:39,499 [DEBUG] yandextank.stepper.main main.py:269	stpd-hash source: cache version 6|line(1, 10, 1m)|-1|-1|line(1, 10, 1m)|0|||1.0||False|phantom|/var/loadtest/ammo.txt;33279;2251799814191792;45;1;0;0;235;1627241195.82
2021-07-25 19:26:39,500 [DEBUG] yandextank.stepper.main main.py:278	Generated cache file name: /var/loadtest/logs/ammo.txt_4b613d2ff2c71710a113447aeb24b98f.stpd
2021-07-25 19:26:39,500 [INFO] yandextank.stepper.main main.py:300	Making stpd-file: /var/loadtest/logs/ammo.txt_4b613d2ff2c71710a113447aeb24b98f.stpd
2021-07-25 19:26:39,500 [DEBUG] yandextank.stepper.info info.py:43	Published 1000 to instances
2021-07-25 19:26:39,501 [DEBUG] yandextank.stepper.info info.py:43	Published ['line(1, 10, 1m)'] to loadscheme
2021-07-25 19:26:39,501 [DEBUG] yandextank.stepper.info info.py:43	Published 60 to duration
2021-07-25 19:26:39,502 [DEBUG] yandextank.stepper.info info.py:43	Published [(1.0, 4), (2.0, 6), (3.0, 7), (4.0, 7), (5.0, 6), (6.0, 7), (7.0, 7), (8.0, 6), (9.0, 7), (10.0, 4)] to steps
2021-07-25 19:26:39,504 [DEBUG] netort.resource resource.py:134	Resource /var/loadtest/ammo.txt format detected: None.
2021-07-25 19:26:39,505 [INFO] yandextank.stepper.config config.py:108	Default ammo type ('phantom') used, use 'phantom.ammo_type' option to override it
2021-07-25 19:26:39,506 [INFO] yandextank.stepper.missile missile.py:103	Loading ammo from '/var/loadtest/ammo.txt'
2021-07-25 19:26:39,506 [INFO] yandextank.stepper.config config.py:123	Using AmmoFileReader ammo reader
2021-07-25 19:26:39,510 [DEBUG] netort.resource resource.py:134	Resource /var/loadtest/ammo.txt format detected: None.
2021-07-25 19:26:39,514 [ERROR] root consoleworker.py:268	Exception occurred:
<class 'yandextank.stepper.module_exceptions.AmmoFileError'>: Error while reading ammo file. Position: 233, header: '1\":\"value2\"}"', original exception: invalid literal for int() with base 10: '1\\":\\"value2\\"}"'
  File "/usr/local/lib/python2.7/dist-packages/yandextank/core/consoleworker.py", line 375, in run
    self.core.plugins_configure()

  File "/usr/local/lib/python2.7/dist-packages/yandextank/core/tankcore.py", line 245, in plugins_configure
    plugin.configure()

  File "/usr/local/lib/python2.7/dist-packages/yandextank/plugins/Phantom/plugin.py", line 72, in configure
    self.phantom_config = self.phantom.config_file

  File "/usr/local/lib/python2.7/dist-packages/yandextank/plugins/Phantom/utils.py", line 106, in config_file
    self._config_file = self.compose_config()

  File "/usr/local/lib/python2.7/dist-packages/yandextank/plugins/Phantom/utils.py", line 114, in compose_config
    streams_config += stream.compose_config()

  File "/usr/local/lib/python2.7/dist-packages/yandextank/plugins/Phantom/utils.py", line 288, in compose_config
    self.stepper_wrapper.prepare_stepper()

  File "/usr/local/lib/python2.7/dist-packages/yandextank/stepper/main.py", line 228, in prepare_stepper
    self.__make_stpd_file()

  File "/usr/local/lib/python2.7/dist-packages/yandextank/stepper/main.py", line 318, in __make_stpd_file
    stepper.write(os)

  File "/usr/local/lib/python2.7/dist-packages/yandextank/stepper/main.py", line 61, in write
    for missile in self.ammo:

  File "/usr/local/lib/python2.7/dist-packages/yandextank/stepper/format.py", line 19, in <genexpr>
    "%s %s %s\n%s\n" % (len(missile), timestamp, marker, missile)

  File "/usr/local/lib/python2.7/dist-packages/yandextank/stepper/main.py", line 48, in <genexpr>
    return ((timestamp, marker or self.marker(missile), missile)

  File "/usr/local/lib/python2.7/dist-packages/yandextank/stepper/main.py", line 43, in <genexpr>
    ammo

  File "/usr/local/lib/python2.7/dist-packages/yandextank/stepper/main.py", line 44, in <genexpr>
    for ammo in ((missile, marker or self.marker(missile))

  File "/usr/local/lib/python2.7/dist-packages/yandextank/stepper/missile.py", line 144, in __iter__
    % (ammo_file.tell(), chunk_header, e))

2021-07-25 19:26:39,515 [INFO] root consoleworker.py:269	Trying to clean up
2021-07-25 19:26:39,515 [INFO] yandextank.core.tankcore tankcore.py:561	Releasing lock: /var/lock/lunapark_VSIgtL.lock
2021-07-25 19:26:39,517 [WARNING] root consoleworker.py:408	Job number is not available yet
2021-07-25 19:26:39,518 [WARNING] root consoleworker.py:415	Job number is not available yet
2021-07-25 19:26:39,526 [DEBUG] yandextank.core.tankcore tankcore.py:367	Collecting artifacts
2021-07-25 19:26:39,526 [INFO] yandextank.core.tankcore tankcore.py:368	Artifacts dir: /var/loadtest/logs/2021-07-25_19-26-39.382097
2021-07-25 19:26:39,526 [DEBUG] yandextank.core.tankcore tankcore.py:422	Collecting file: /var/loadtest/logs/2021-07-25_19-26-39.382097/phantom_stat_cg1hAl.log to /var/loadtest/logs/2021-07-25_19-26-39.382097/phantom_stat_cg1hAl.log
2021-07-25 19:26:39,529 [WARNING] yandextank.core.tankcore tankcore.py:429	File already exists: /var/loadtest/logs/2021-07-25_19-26-39.382097/phantom_stat_cg1hAl.log
2021-07-25 19:26:39,529 [DEBUG] yandextank.core.tankcore tankcore.py:422	Collecting file: /var/loadtest/logs/2021-07-25_19-26-39.382097/phout_fKaTuO.log to /var/loadtest/logs/2021-07-25_19-26-39.382097/phout_fKaTuO.log
2021-07-25 19:26:39,531 [WARNING] yandextank.core.tankcore tankcore.py:429	File already exists: /var/loadtest/logs/2021-07-25_19-26-39.382097/phout_fKaTuO.log
2021-07-25 19:26:39,532 [DEBUG] yandextank.core.tankcore tankcore.py:422	Collecting file: validation_error.yaml to /var/loadtest/logs/2021-07-25_19-26-39.382097/validation_error.yaml
2021-07-25 19:26:39,532 [WARNING] yandextank.core.tankcore tankcore.py:424	File not found to collect: validation_error.yaml
2021-07-25 19:26:39,533 [DEBUG] yandextank.core.tankcore tankcore.py:422	Collecting file: /var/loadtest/logs/2021-07-25_19-26-39.382097/phantom_T1_tQg.log to /var/loadtest/logs/2021-07-25_19-26-39.382097/phantom_T1_tQg.log
2021-07-25 19:26:39,535 [WARNING] yandextank.core.tankcore tankcore.py:429	File already exists: /var/loadtest/logs/2021-07-25_19-26-39.382097/phantom_T1_tQg.log
2021-07-25 19:26:39,535 [DEBUG] yandextank.core.tankcore tankcore.py:422	Collecting file: /var/loadtest/logs/2021-07-25_19-26-39.382097/answ_V0wWAG.log to /var/loadtest/logs/2021-07-25_19-26-39.382097/answ_V0wWAG.log
2021-07-25 19:26:39,537 [WARNING] yandextank.core.tankcore tankcore.py:429	File already exists: /var/loadtest/logs/2021-07-25_19-26-39.382097/answ_V0wWAG.log
